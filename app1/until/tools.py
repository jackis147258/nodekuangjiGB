# import redis
from django.conf import settings
import datetime
# from app1.models import dengLuInfo
from app1 import models
import requests


import ssl

headers2 = {
   'Cookie': 'stoken=28202860-fd2b0d29f0d5e5f72543753df1271a5e3b150ad4;sstoken=28202860-fd2b0d29f0d5e5f72543753df1271a5e3b150ad4-28202861-b931b66913e53de49f4fa5ed2f11da5db50b8d5e;uu=18b7f7a2-0b4a-49a8-8346-4cadf990983c;remember_user_token=eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaGJDRnNHYVFQcjl3RkpJaGxxZURZM2FVdENTSGhwYmxORGVWUk1la1ZFTlFZNkJrVlVTU0lYTVRZNU1qRTNNVFl5T1M0MU9EUTVNVGt5QmpzQVJnPT0iLCJleHAiOiIyMDI2LTA4LTE2VDA3OjQwOjI5LjU4NFoiLCJwdXIiOm51bGx9fQ;_sp5=S0toSlFLU0JOM2hDcVhwSEVORXRtM0doT0dYdnNEQ1dtSk1FeE1ESWF1YituYXVBSHVncFhBTERFcGQ0K3FINGxwVHdVaEIyd0VieWlRQjh2YVB1MUhpWXZQajBZZHdEOUtaY21CQTI1REdsUkt3Z2NKTzUrdHdvREZ4Q25YL3NrUW5hME9VRmI2eS8wckVTK1U4RElwVGVDSkdmRURGZE1VVUZQWndvWkgzWmdtOTdEUlIxbFVyTnRPQklFOVY4bVNoTlMwK3A4TzA4ZmlWeTNXa1BOT1pQTTVVd2xMYTU1dXpZSDNJT1pDV1VxU003RXdxSTJzcFVhdDVvcVg3SVpyVm9xZjdud3lkam4yMTJMSzR4YVJma0RNQ09ONkxzTGh3c0hiQjFNNzRhU3ZMcHlRUXkxcWpKRWc1WXZJcHRDSVFyUVY1UWtmV2E2T0lkUTI4aktaMmJqT1pvVFVLTnR0di91dkVIc0JRTjFPYTRsVUh2b0RBeUdURE9vd1ZsLS1mYm9NcUxwRU1iaTZ6ZUx1ZnlZSGVnPT0%3D--6d100adb7c2bc2c2d5f05962f176b3c5a90f4456; uu=18b7f7a2-0b4a-49a8-8346-4cadf990983c; ref=bWYrSjJyYnZ5OVNoalcycndKcFFmL1psK1c0L0xmbEZQNy93cjBRbjdBcHBhdnIxd1dMNlRYT2daRW92RzVCYnNjMlk4Tk1oSW54c3JUeS9yVmt0OUx4UzNKdU1sY0RqQnhURXpYVFA3UkpRZDdUMFVzS0JpVThoOUVjRFpOSkctLUR4SG42Z0tqditGdGVxVlZKQVB3a2c9PQ%3D%3D--9331fc991b35ebfbcd8757c7fafb13b2ecfa6969; ab=180; order_surebets_index=profit; sel%3Asurebets=eacfbf52fb13153fdb507363f85d279a; _sp5=TS9sWmpBZ0cxak14VHZ6Ym10RjhNOEVnT0RwNjZMSUQ5R0QzY29jTlR3aHJaS0FpS2lhYmJEaXhYU3ppQXJ2eDRSYUJSMHFOMVcvTU5XdmpFaEZTdSt6Q0ZaQ09vV2NuS21rVzlDVzB4RFZvWExQUi9UZEQrY0xDNllkTzQzbHFHMmF4M0hBTVNLM3AxSVBFYzhLVGZ2NEVRZDFjYkV0NW1rOGt2VzlteEs4MGhrd1doY2JoYUt1QithK2FCTHVVbTJLQWpuK3F0a1BpNWtZQ1Y5dmZySVBPYTFIa3dHbmZVZVVPaEtpWFloaE14Q1N3YlRrUTlLWTBlZTVVMkNUZmQrSmdXNEZwZ0xhYmdrclZMclpNZzBsN3Z0SFBWQVkrOTBJWDBqblluRXJwbnhZQ1VDc1hrY1dMdEdSYXpYZHBPczJFS0xnRDl0M3dobENGK0t0cS9aUjMwb1lUTVRrVW5HUk1LZlVUZW5xNnpIUHpqZi9PVjVQOTgrT0RoZ2lHLS1LWlZBazIzdVhoQTk4bzhkRVhSeFNRPT0%3D--d1198bbfa55b83b87e2ab3bc07e9579b155e8e9e; stoken=28202871-0844c81f3007014ebb7886daccecaecbd2c372a3; br=SWo1dUVLWnhTWCswN0I3UHNzMFh2bkQ4WFhpVzYwdDVpY09ZSWdobzZsVmVXUEtFRlR3cHppcTFUZXB0bDV1d29XT3NWaS9YL1BrWXRmYUZmS3FiaW40Sk5TTVNidExWNzVlS1JSWUJQM0k9LS14a3czV0xPZEpPRUFZakVSM0M0OVBBPT0%3D--56d5ab58220ee1a969c6e17965ee63b9e0ea68e6',
   'User-Agent': 'Apifox/1.0.0 (https://apifox.com)',
   'Accept': '*/*',
   'Host': 'zh.surebet.com',
   'Connection': 'keep-alive'
}

def getUrlList(url,userId):
  ssl._create_default_https_context = ssl._create_unverified_context

  # url = "https://zh.surebet.com/surebets?utf8=%E2%9C%93&filter%5Bselected%5D%5B%5D=&filter%5Bselected%5D%5B%5D=33714663&filter%5Bsave%5D=&filter%5Bcurrent_id%5D=33714663&selector%5Border%5D=profit&selector%5Boutcomes%5D%5B%5D=&selector%5Boutcomes%5D%5B%5D=2&selector%5Boutcomes%5D%5B%5D=3&selector%5Bmin_profit%5D=0.0&selector%5Bmax_profit%5D=&selector%5Bmin_roi%5D=&selector%5Bmax_roi%5D=&selector%5Bsettled_in%5D=86400&selector%5Bbookies_settings%5D=0%3A67%3A%3A%3B4%3A72%3A%3A%3B0%3A66%3A%3A%3B0%3A76%3A%3A%3B0%3A182%3A%3A%3B0%3A74%3A%3A%3B0%3A37%3A%3A%3B4%3A148%3A%3A%3B0%3A211%3A%3A%3B0%3A114%3A%3A%3B0%3A260%3A%3A%3B0%3A132%3A%3A%3B0%3A42%3A%3A%3B0%3A40%3A%3A%3B0%3A225%3A%3A%3B0%3A126%3A%3A%3B0%3A21%3A%3A%3B0%3A263%3A%3A%3B0%3A23%3A%3A%3B0%3A246%3A%3A%3B0%3A26%3A%3A%3B0%3A139%3A%3A%3B0%3A36%3A%3A%3B0%3A150%3A%3A%3B0%3A202%3A%3A%3B0%3A151%3A%3A%3B0%3A204%3A%3A%3B0%3A125%3A%3A%3B0%3A200%3A%3A%3B0%3A203%3A%3A%3B0%3A%3A%3A%3B0%3A32%3A%3A%3B0%3A1%3A%3A%3B0%3A65%3A%3A%3B0%3A161%3A%3A%3B0%3A29%3A%3A%3B0%3A10%3A%3A%3B0%3A45%3A%3A%3B0%3A228%3A%3A%3B0%3A34%3A%3A%3B0%3A77%3A%3A%3B0%3A58%3A%3A%3B0%3A253%3A%3A%3B0%3A165%3A%3A%3B0%3A95%3A%3A%3B0%3A180%3A%3A%3B0%3A208%3A%3A%3B0%3A48%3A%3A%3B0%3A14%3A%3A%3B0%3A197%3A%3A%3B0%3A11%3A%3A%3B0%3A188%3A%3A%3B0%3A38%3A%3A%3B0%3A147%3A%3A%3B0%3A52%3A%3A%3B0%3A198%3A%3A%3B0%3A55%3A%3A%3B0%3A187%3A%3A%3B0%3A33%3A%3A%3B0%3A13%3A%3A%3B0%3A176%3A%3A%3B0%3A248%3A%3A%3B0%3A236%3A%3A%3B0%3A215%3A%3A%3B0%3A49%3A%3A%3B0%3A62%3A%3A%3B0%3A75%3A%3A%3B0%3A12%3A%3A%3B0%3A193%3A%3A%3B0%3A90%3A%3A%3B0%3A46%3A%3A%3B0%3A229%3A%3A%3B0%3A210%3A%3A%3B0%3A146%3A%3A%3B0%3A117%3A%3A%3B0%3A135%3A%3A%3B0%3A24%3A%3A%3B0%3A73%3A%3A%3B0%3A258%3A%3A%3B0%3A261%3A%3A%3B0%3A154%3A%3A%3B0%3A129%3A%3A%3B0%3A56%3A%3A%3B0%3A230%3A%3A%3B0%3A22%3A%3A%3B0%3A145%3A%3A%3B0%3A136%3A%3A%3B0%3A30%3A%3A%3B0%3A257%3A%3A%3B0%3A5%3A%3A%3B0%3A6%3A%3A%3B0%3A214%3A%3A%3B0%3A245%3A%3A%3B0%3A235%3A%3A%3B0%3A175%3A%3A%3B0%3A224%3A%3A%3B0%3A190%3A%3A%3B0%3A4%3A%3A%3B0%3A183%3A%3A%3B0%3A242%3A%3A%3B0%3A213%3A%3A%3B0%3A244%3A%3A%3B0%3A15%3A%3A%3B0%3A212%3A%3A%3B0%3A219%3A%3A%3B0%3A128%3A%3A%3B0%3A233%3A%3A%3B0%3A50%3A%3A%3B0%3A9%3A%3A%3B0%3A179%3A%3A%3B0%3A259%3A%3A%3B0%3A178%3A%3A%3B0%3A41%3A%3A%3B0%3A130%3A%3A%3B0%3A133%3A%3A%3B0%3A247%3A%3A%3B0%3A3%3A%3A%3B0%3A240%3A%3A%3B0%3A8%3A%3A%3B0%3A118%3A%3A%3B0%3A89%3A%3A%3B0%3A166%3A%3A%3B0%3A124%3A%3A%3B0%3A226%3A%3A%3B0%3A209%3A%3A%3B0%3A63%3A%3A%3B0%3A61%3A%3A%3B0%3A167%3A%3A%3B0%3A20%3A%3A%3B0%3A164%3A%3A%3B0%3A19%3A%3A%3B0%3A88%3A%3A%3B0%3A249%3A%3A%3B0%3A39%3A%3A%3B0%3A174%3A%3A%3B0%3A31%3A%3A%3B0%3A54%3A%3A%3B0%3A51%3A%3A%3B0%3A181%3A%3A%3B0%3A2%3A%3A%3B0%3A87%3A%3A%3B0%3A143%3A%3A%3B0%3A7%3A%3A%3B0%3A189%3A%3A%3B0%3A237%3A%3A%3B0%3A156%3A%3A%3B0%3A47%3A%3A%3B0%3A234%3A%3A%3B0%3A251%3A%3A%3B0%3A262%3A%3A%3B0%3A134%3A%3A%3B0%3A218%3A%3A%3B0%3A109%3A%3A%3B0%3A123%3A%3A%3B0%3A201%3A%3A%3B0%3A254%3A%3A%3B0%3A25%3A%3A%3B0%3A69%3A%3A%3B0%3A140%3A%3A%3B0%3A119%3A%3A%3B0%3A16%3A%3A%3B0%3A207%3A%3A%3B0%3A232%3A%3A%3B0%3A223%3A%3A%3B0%3A256%3A%3A%3B0%3A163%3A%3A%3B0%3A97%3A%3A%3B0%3A173%3A%3A%3B0%3A191%3A%3A%3B0%3A186%3A%3A%3B0%3A192%3A%3A%3B0%3A43%3A%3A%3B0%3A243%3A%3A%3B0%3A199%3A%3A%3B0%3A159%3A%3A%3B0%3A184%3A%3A%3B0%3A18%3A%3A%3B0%3A35%3A%3A%3B0%3A59%3A%3A%3B0%3A64%3A%3A%3B0%3A216%3A%3A%3B0%3A86%3A%3A%3B0%3A120%3A%3A%3B0%3A205%3A%3A%3B0%3A149%3A%3A%3B0%3A127%3A%3A%3B0%3A115%3A%3A%3B0%3A17%3A%3A%3B0%3A110%3A%3A%3B0%3A53%3A%3A%3B0%3A238%3A%3A%3B0%3A239%3A%3A%3B0%3A217%3A%3A%3B0%3A206%3A%3A%3B0%3A155%3A%3A%3B0%3A28%3A%3A%3B0%3A222%3A%3A%3B0%3A220%3A%3A%3B0%3A250%3A%3A%3B0%3A252%3A%3A%3B0%3A44%3A%3A%3B0%3A196%3A%3A%3B0%3A227%3A%3A%3B0%3A221%3A%3A%3B0%3A27%3A%3A&selector%5Bexclude_sports_ids_str%5D=56+57+0+43+32+1+2+3+4+55+60+7+6+5+28+8+44+9+26+34+10+11+12+39+47+46+48+49+59+14+27+53+54+58+16+30+13+17+18+29+45+19+36+33+31+40+64+42+41+20+62+61+50+51+63+21+37+23+22+35+24+38+25&selector%5Bextra_filters%5D=3&narrow="
  # url = "https://zh.surebet.com/surebets?utf8=%E2%9C%93&selector%5Border%5D=profit&selector%5Boutcomes%5D%5B%5D=&selector%5Boutcomes%5D%5B%5D=2&selector%5Boutcomes%5D%5B%5D=3&selector%5Bmin_profit%5D=&selector%5Bmax_profit%5D=&selector%5Bmin_roi%5D=&selector%5Bmax_roi%5D=&selector%5Bsettled_in%5D=0&selector%5Bbookies_settings%5D=4%3A67%3A%3A%3B4%3A72%3A%3A%3B0%3A66%3A%3A%3B4%3A76%3A%3A%3B0%3A182%3A%3A%3B4%3A74%3A%3A%3B4%3A37%3A%3A%3B4%3A148%3A%3A%3B4%3A211%3A%3A%3B4%3A114%3A%3A%3B4%3A260%3A%3A%3B4%3A132%3A%3A%3B4%3A42%3A%3A%3B4%3A40%3A%3A%3B4%3A225%3A%3A%3B4%3A126%3A%3A%3B4%3A21%3A%3A%3B4%3A263%3A%3A%3B4%3A23%3A%3A%3B4%3A246%3A%3A%3B4%3A26%3A%3A%3B4%3A139%3A%3A%3B4%3A36%3A%3A%3B4%3A150%3A%3A%3B4%3A202%3A%3A%3B4%3A151%3A%3A%3B4%3A204%3A%3A%3B4%3A125%3A%3A%3B4%3A200%3A%3A%3B4%3A203%3A%3A%3B4%3A%3A%3A%3B4%3A32%3A%3A%3B4%3A1%3A%3A%3B4%3A65%3A%3A%3B4%3A161%3A%3A%3B4%3A29%3A%3A%3B4%3A10%3A%3A%3B4%3A45%3A%3A%3B4%3A228%3A%3A%3B4%3A34%3A%3A%3B4%3A77%3A%3A%3B4%3A58%3A%3A%3B4%3A253%3A%3A%3B4%3A165%3A%3A%3B4%3A95%3A%3A%3B4%3A180%3A%3A%3B4%3A208%3A%3A%3B4%3A48%3A%3A%3B4%3A14%3A%3A%3B4%3A197%3A%3A%3B4%3A11%3A%3A%3B4%3A188%3A%3A%3B4%3A38%3A%3A%3B4%3A147%3A%3A%3B4%3A52%3A%3A%3B4%3A198%3A%3A%3B4%3A55%3A%3A%3B4%3A187%3A%3A%3B4%3A33%3A%3A%3B4%3A13%3A%3A%3B4%3A176%3A%3A%3B4%3A248%3A%3A%3B4%3A236%3A%3A%3B4%3A215%3A%3A%3B4%3A49%3A%3A%3B4%3A62%3A%3A%3B4%3A75%3A%3A%3B4%3A12%3A%3A%3B4%3A193%3A%3A%3B4%3A90%3A%3A%3B4%3A46%3A%3A%3B4%3A229%3A%3A%3B4%3A210%3A%3A%3B4%3A146%3A%3A%3B4%3A117%3A%3A%3B4%3A135%3A%3A%3B4%3A24%3A%3A%3B4%3A88%3A%3A%3B4%3A73%3A%3A%3B4%3A258%3A%3A%3B4%3A261%3A%3A%3B4%3A154%3A%3A%3B4%3A129%3A%3A%3B4%3A56%3A%3A%3B4%3A230%3A%3A%3B4%3A22%3A%3A%3B4%3A145%3A%3A%3B4%3A136%3A%3A%3B4%3A30%3A%3A%3B4%3A257%3A%3A%3B4%3A5%3A%3A%3B4%3A6%3A%3A%3B4%3A214%3A%3A%3B4%3A245%3A%3A%3B4%3A235%3A%3A%3B4%3A175%3A%3A%3B4%3A224%3A%3A%3B4%3A190%3A%3A%3B4%3A4%3A%3A%3B4%3A183%3A%3A%3B4%3A242%3A%3A%3B4%3A213%3A%3A%3B4%3A244%3A%3A%3B4%3A15%3A%3A%3B4%3A212%3A%3A%3B4%3A219%3A%3A%3B4%3A128%3A%3A%3B4%3A233%3A%3A%3B4%3A50%3A%3A%3B4%3A9%3A%3A%3B4%3A179%3A%3A%3B4%3A259%3A%3A%3B4%3A178%3A%3A%3B4%3A41%3A%3A%3B4%3A130%3A%3A%3B4%3A133%3A%3A%3B4%3A247%3A%3A%3B4%3A3%3A%3A%3B4%3A240%3A%3A%3B4%3A8%3A%3A%3B4%3A118%3A%3A%3B4%3A89%3A%3A%3B4%3A166%3A%3A%3B4%3A124%3A%3A%3B4%3A226%3A%3A%3B4%3A209%3A%3A%3B4%3A63%3A%3A%3B4%3A61%3A%3A%3B4%3A167%3A%3A%3B4%3A20%3A%3A%3B4%3A164%3A%3A%3B4%3A19%3A%3A%3B4%3A249%3A%3A%3B4%3A39%3A%3A%3B4%3A174%3A%3A%3B4%3A31%3A%3A%3B4%3A54%3A%3A%3B4%3A51%3A%3A%3B4%3A181%3A%3A%3B4%3A2%3A%3A%3B4%3A87%3A%3A%3B4%3A143%3A%3A%3B4%3A7%3A%3A%3B4%3A189%3A%3A%3B4%3A237%3A%3A%3B4%3A156%3A%3A%3B4%3A47%3A%3A%3B4%3A234%3A%3A%3B4%3A251%3A%3A%3B4%3A262%3A%3A%3B4%3A134%3A%3A%3B4%3A218%3A%3A%3B4%3A109%3A%3A%3B4%3A123%3A%3A%3B4%3A201%3A%3A%3B4%3A254%3A%3A%3B4%3A25%3A%3A%3B4%3A69%3A%3A%3B4%3A140%3A%3A%3B4%3A119%3A%3A%3B4%3A16%3A%3A%3B4%3A207%3A%3A%3B4%3A232%3A%3A%3B4%3A223%3A%3A%3B4%3A256%3A%3A%3B4%3A163%3A%3A%3B4%3A97%3A%3A%3B4%3A173%3A%3A%3B4%3A191%3A%3A%3B4%3A186%3A%3A%3B4%3A192%3A%3A%3B4%3A43%3A%3A%3B4%3A243%3A%3A%3B4%3A199%3A%3A%3B4%3A159%3A%3A%3B4%3A184%3A%3A%3B4%3A18%3A%3A%3B4%3A35%3A%3A%3B4%3A59%3A%3A%3B4%3A64%3A%3A%3B4%3A216%3A%3A%3B4%3A86%3A%3A%3B4%3A120%3A%3A%3B4%3A205%3A%3A%3B4%3A149%3A%3A%3B4%3A127%3A%3A%3B4%3A115%3A%3A%3B4%3A17%3A%3A%3B4%3A110%3A%3A%3B4%3A53%3A%3A%3B4%3A238%3A%3A%3B4%3A239%3A%3A%3B4%3A217%3A%3A%3B4%3A206%3A%3A%3B4%3A155%3A%3A%3B4%3A28%3A%3A%3B4%3A222%3A%3A%3B4%3A220%3A%3A%3B4%3A250%3A%3A%3B4%3A252%3A%3A%3B4%3A44%3A%3A%3B4%3A196%3A%3A%3B4%3A227%3A%3A%3B4%3A221%3A%3A%3B4%3A27%3A%3A&selector%5Bexclude_sports_ids_str%5D=56+57+0+43+32+3+55+60+28+8+44+9+26+34+10+11+12+39+47+46+48+49+59+53+54+58+30+13+29+45+19+36+33+31+40+64+42+41+20+62+61+50+51+63+21+37+23+35+38&selector%5Bextra_filters%5D=&narrow="

  
  row_object=models.TcSearch.objects.filter(uid=userId).first()    
  returnOnInvestmentLittle=row_object.returnOnInvestmentLittle  
  returnOnInvestmentBig=row_object.returnOnInvestmentBig
    
    
  row_dengluInfo=models.dengLuInfo.objects.filter(uid=1).first()
  cookieStr=row_dengluInfo.cookie
  
  payload={}
  headers = {
    'Cookie': cookieStr
    # 'Cookie': '_sp5=azErMXR1KzJ0bUxPVzg5bXlMWmh5R3RDcFpRcFBWTDVvZ0haL1JZYW5Ham5OekczYmJJank3RVVpOExDSnBEZ3c2aERDTmhJSFBjd05vd28yZnRNZ1p1bDhFT3ZXSFVRQkJnTTFFRXUreUNtTFhSK2g2eDRvK2JyanhuaDZ3TEYrS08xQXlFTW9sMWc2MnM1VE9PWGtDNU9FdUppZDVmUkV6UkRaSkF5aVNaZTQ5V1FnNFdOMEc4WDJHS0hwdDhSLS00eVA4bTN1RHlWVHVHWGtva21pRmlBPT0%3D--fe9258d26d8dff2bd8d1594a0d2434f66851f6fc; ab=732; order_surebets_index=profit; ref=b0lTN1B5MHVVd0wxMG9tSFBDZFhoOWljUHpQK3hwTVBoSEFOQTNiWUptaHRqeURwS2djS3crbkw2cHdvK244SGNkZ040amFTdU1QdkJKVnRrQVZRUHh6REVmSW1pSUs0YktuekduNmJhTEo1eTlEa3QwYWM0NkRoeEtwWFNvUm4tLXBxQlJ2V0p0Q29RazYyWGliQ1FZYVE9PQ%3D%3D--97b7ab2017f313373c20fab7c971e26608c1785d; sel%3Asurebets=72b49d023af1686c0475fa4545c93009; uu=dae08a21-1c38-4d70-b955-fd5e639368c2'
  }
  response = requests.request("GET", url, headers=headers, data=payload)  
  # value = requests.COOKIES["cookie_key"]

  a=response.text
  return a;

def login1(url):
  # url = "https://zh.surebet.com/users/sign_in"
  res = requests.get(url)
  cookies = res.cookies
  # cookie = requests.utils.dict_from_cookiejar(cookies)
  
  cookies1 = res.cookies.items()
  cookie1 = ''
  for name, value in cookies1:
    cookie1 += '{0}={1};'.format(name, value)
  
  return cookie1


def getLogin(userId):
  ssl._create_default_https_context = ssl._create_unverified_context  
  # 进入 登录页面 得到 cookie  得到 autoeh token
  url = "https://zh.surebet.com/users/sign_in"
  # t_cookie1=login1(url)
  res = requests.get(url)
  cookies = res.cookies
  
  
  
  # 登录开始
  
  
  # url="https://zh.surebet.com/users/sign_in"  
  row_dengluInfo=models.dengLuInfo.objects.filter(uid=userId).first()
  t_name=row_dengluInfo.name
  t_passWord=row_dengluInfo.passWord
  t_authenticity_token=row_dengluInfo.authenticity_token
  t_remember_me=row_dengluInfo.remember_me
  t_commit=row_dengluInfo.commit
  url = "https://zh.surebet.com/users/sign_in"
  # payload = {
  # 'utf8': '✓',
  # 'user[email]': '731772412@qq.com',
  # 'user[password]': 'dnjsrl0620',    
  # 'user[remember_me]': '1',
  # 'commit': '登录',    
  # 'authenticity_token': 'aFsAakxX2LNr4cHK-13RQJxX7zVeheMtZMJTbBRnIKgn9rPzm3wPrwIBJvs1On_JhEAg8IysQeW0KDBKSM-erw'    
  # } 
  payload = {
  'utf8': '✓',
  'user[email]': t_name,
  'user[password]': t_passWord,    
  'user[remember_me]': t_remember_me,
  'commit': t_commit,    
  'authenticity_token': t_authenticity_token    
  } 
  files=[
  ]
  headers = {
    'User-Agent': 'Apifox/1.0.0 (https://apifox.com)',
    'Accept': '*/*',
    'Host': 'zh.surebet.com',
    'Connection': 'keep-alive',
    'Cookie': 'uu=18b7f7a2-0b4a-49a8-8346-4cadf990983c; ref=RzJyRk1MR21uWUNncDhCME1oZHJMblpHL21NWkprSDF1bjFkOFlXaFBzZFQzKytXTVhLUWxZL29SOUllRWtBL3E1VTEzbGVkRmJLY1BhN3JyZjhFQ0JUS1F5TnR2L0dPOHFWSythTzcrYXNPTHlEa08rbUJpaFRERG94Rlg2elEtLVhzSzlBcmhaNFFpekYyT1h1R3BhMHc9PQ%3D%3D--ebafa0bd16d9f0c13e8f282ede35a5bdaa576a26; ab=180; order_surebets_index=profit; sel%3Asurebets=eacfbf52fb13153fdb507363f85d279a; _sp5=MXB1aytMdnpSbldyRmo1aGc0Qlk4R0tPUXp6QTRxSE9HOVpDOEZNM2Z2L0xRYTlNcFJMbWFIRWQxNkxnOW13eEJ5MlZuZitEeHBBbU1wd0RFYVFES1g2TXNBTzFhR3FFOUtuV1NXbDVGNTMrY09URVgyVThIdTlEMU9IaU4wQ08vRVV0bmdzOVM3SWFWWXg4c21sMnQ3MVlkTE9yT3poU2RsVytQSzVPQ2NDL1psc2JOZnkxVGN2Y1dRNDJLZnE1aTcrQlU3cDhEZ0lVZ0lOaytBOVB5SG5hY1ZZU3dVSS9EZDJLSkU1aXoyeDBGM3RBKzBxRXE0dTkwS1BDSG9HSCtBRGhUbWtzUWpZMWl6cEZLY2UxMlJzSXRDYVcwTGFpTHhvdmZwSEdEenQyTk5UVjQ3TzRBVGlVWDN3T0JBVHMzVnE1RmxieE5YUUcrMzArU0J2TG9uZ2l2QkFxT1UyY1NNa0ZVWVBMYjVRUGRNYldkZGx6dGpob3BQUWZvTi9wenN5ditoY0loeFFoVW9FUExlSHd0cm5LK0JNSThCMTlabjI3dzdqTTc3eDBacUNHT2JOdnhjc2Y3aHk2K1BqSmtLbnZyRjFUZzZLKzB2QnVsd1RmTTBaZEVvd21rRjl3cG94bDdUUThCSzA9LS1QaGwrcVhFSmtNakt4RGE3aTZsUG9nPT0%3D--63fe972d7b9fac53351dffe81fcab4c647b3f81d; stoken=28204293-a5d1be5aebb60150bc617b5f3359b74357c2256d; br=TGFVdUtWMS9uOHhHZmswUXlPSmlqV0FwbmJ2eG9YTnpiQkhsNFF5dnBTNWlSRTliblptQ2JBMkt5VTkrNlIvNVpqZGRxczE5bndZMEtiUXBKdmVjZ2UvVzc3eU1zbmJDTmFQazZPNlE5RDA9LS1xdmtoNEs1Z2UxMmlYR1BoN1hBbDFRPT0%3D--20dfff19e1da3f080d7a180d1f47ea480313a55a; remember_user_token=eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaGJDRnNHYVFQcjl3RkpJaGxxZURZM2FVdENTSGhwYmxORGVWUk1la1ZFTlFZNkJrVlVTU0lYTVRZNU1qSTFOell3TkM0ME9UTTJNVGN6QmpzQVJnPT0iLCJleHAiOiIyMDI2LTA4LTE3VDA3OjMzOjI0LjQ5M1oiLCJwdXIiOm51bGx9fQ%3D%3D--fc81bc7c55cfe3ef03e66f9e5e713d4a1e4d7028',
    'Referer': 'https://zh.surebet.com/'
  }
  
  try:
      res = requests.post(url, headers=headers, json=payload)
      cookies = res.cookies

      # cookie = requests.utils.dict_from_cookiejar(cookies)
      
      cookies1 = res.cookies.items()
      cookie1 = ''
      for name, value in cookies1:
        cookie1 += '{0}={1};'.format(name, value)
      # print(cookie1)
      
      # print(cookie)
      
      row_dengluInfo=models.dengLuInfo.objects.filter(uid=userId).first()
      row_dengluInfo.cookie=cookie1
      row_dengluInfo.save()

      return cookie1
  except Exception as err:
      print('获取cookie失败：\n{0}'.format(err))
        

  # response = requests.request("POST", url, headers=headers, data=payload, files=files)
  # uu=response.cookies 
  # print uu
  # print(response.text)  
  return "还没开始";






